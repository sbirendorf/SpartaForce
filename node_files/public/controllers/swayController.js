function contStartSwayTest(a){$$(".sway-buttons").empty(),globals.swayExtremity=a,globals.stopChart=!1,startSway(),startSwayRealTimeChart(),ui.displayMsg("Trials Remaining :"+globals.swayTestNumber),$$("#sway").show(),$$("#scan").hide(),ui.BtnsEnableControll(["sway","stop"])}function validateSwayResult(a){if(a.WeightKG<5)return ui.setMsg("Invalid minimum weight",!0),!0;var t=Number(globals.swayTestNumber)+1,s=localStorage["Sparta_sway_"+t];return(null!=s||void 0!=s)&&(s=jQuery.parseJSON(s),Math.abs(s.WeightKG-a.WeightKG)>globals.WeightDiff)?(ui.setMsg("Invalid weight",!0),!0):!1}function swayResult(a){a.WeightKG=ui.convertWeight(a.WeightKG);var t=validateSwayResult(a);if(t){ui.displayMsg("");var s=new Audio("../error.mp3");s.play()}else{d=new Date,a.side=ui.getSide(globals.swayTestNumber),a.extremity=globals.swayExtremity,a.Date=d.yyyymmdd(),console.log(a);var a=JSON.stringify(a);localStorage.setItem("Sparta_sway_"+globals.swayTestNumber+"_"+globals.testGUID,a);jQuery.parseJSON(localStorage["Sparta_sway_"+globals.swayTestNumber+"_"+globals.testGUID]);globals.swayTestNumber--}if(console.log(globals.swayTestNumber),globals.swayTestNumber>0)setTimeout(function(){contStartSwayTest(globals.swayExtremity)},4e3);else{var e=confirm("Test Over! Send data to sparta Trac?");1==e&&sendDataToTrac("sway"),ui.displayMsgRight("",!1),globals.swayTestNumber=globals.initSwayTestNumber}}function swayProgress(a){if("waitingforstill"==a.Status){$$(".log-msg").empty();var t=ui.getSide(globals.swayTestNumber);globals.flag=!0,ui.displayMsgRight("Stand Still â€“ Balance on"+t+" Foot / Hand First.  Time Remaining "+a.TimeRemainSec.toFixed(0),!1)}if("protocolstart"==a.Status&&1==globals.flag){$$(".log-msg").empty();var t=ui.getSide(globals.swayTestNumber);ui.displayMsgRight("Status: Balance on ."+t,!1);var s=new Audio("../horn.mp3");s.play(),globals.flag=!1}if("protocolinprogress"==a.Status){$$(".log-msg").empty();var t=ui.getSide(globals.swayTestNumber),e=20-a.SamplesCollected/1e3;ui.displayMsgRight("Balance on "+t+",  Time Remaining "+e.toFixed(0),!1)}if("computingstart"==a.Status){var s=new Audio("../stop.mp3");s.play()}if("computingstart"==a.Status){$$(".log-msg").empty();var t=ui.getSide(globals.swayTestNumber);ui.displayMsgRight("Done, Computing ."+t,!1)}}